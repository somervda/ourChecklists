<div
  [hidden]="
    !checklistitem.requireEvidence ||
    !redirectForEvidence ||
    (checklistitem.evidence && checklistitem.evidence.length > 0)
  "
>
  <a
    [routerLink]="
      '/checklist/' + cid + '/checklistitemedit/' + checklistitem.id
    "
    matTooltip="Evidence is required, so must be entered in the item details"
  >
    <mat-icon>subdirectory_arrow_right</mat-icon></a
  >
</div>
<div
  [style.opacity]="checklistitem.resultValue == undefined ? '0.5' : '1'"
  [title]="checklistitem.resultValue == undefined ? 'Not Touched' : ''"
  [hidden]="
    checklistitem.requireEvidence &&
    redirectForEvidence &&
    (!checklistitem.evidence || checklistitem.evidence.length == 0)
  "
>
  <ng-container
    *ngIf="
      checklistitem.resultType == ChecklistitemResultType.checkbox &&
      !checklistitem.allowNA
    "
    class="result"
  >
    <mat-checkbox
      [ngModel]="checklistitem.resultValue"
      (change)="onChange($event, true)"
      [disabled]="disabled"
    ></mat-checkbox>
  </ng-container>

  <ng-container
    *ngIf="
      checklistitem.resultType == ChecklistitemResultType.checkbox &&
      checklistitem.allowNA
    "
    class="result"
  >
    <mat-select
      [ngModel]="checklistitem.resultValue"
      (selectionChange)="onChange($event, false)"
      [disabled]="disabled"
    >
      <mat-option [value]="ChecklistitemResultValue.NA">
        N/A
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.false">
        No
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.true">
        Yes
      </mat-option>
    </mat-select>
  </ng-container>

  <ng-container
    *ngIf="
      checklistitem.resultType == ChecklistitemResultType.rating ||
      checklistitem.resultType == ChecklistitemResultType.ratingNA
    "
    class="result"
  >
    <mat-select
      [ngModel]="checklistitem.resultValue"
      (selectionChange)="onChange($event, false)"
      [disabled]="disabled"
    >
      <mat-option
        [value]="ChecklistitemResultValue.NA"
        [hidden]="!checklistitem.allowNA"
      >
        N/A
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.low">
        Low
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.mediumLow">
        Medium/Low
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.medium">
        Medium
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.mediumHigh">
        Medium/High
      </mat-option>
      <mat-option [value]="ChecklistitemResultValue.high">
        High
      </mat-option>
    </mat-select>
  </ng-container>
</div>
